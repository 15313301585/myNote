<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#box{
	position:absolute;
	top:0;
	left:0;
	width:100px;
	height:100px;
	background:red;
}
</style>
</head>

<body>
<div id="box"></div>
<script src="event.js">

</script>
<script>
//fly()
var oBox=document.getElementById("box")
on(oBox,"mousedown",down);
function fly(){
	var maxR=(document.documentElement.clientWidth||document.body.clientWidth)-this.offsetWidth;
	
	if(this.offsetLeft+this.speed>maxR){
		this.style.left=maxR+"px";
		this.speed*=-1;
	}else if(this.offsetLeft+this.speed<0){
		this.style.left=0;
		this.speed*=-1
	}else{
		this.style.left=this.offsetLeft+this.speed+"px";
	}
	
	this.speed*=0.97;
	if(Math.abs(this.speed)>=0.5){
		var _this=this;
		this.flytimer=setTimeout(function(){
			fly.call(_this);
		},15);
	}
}
</script>
</body>

</html>
